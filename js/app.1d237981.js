(function(e){function t(t){for(var r,i,c=t[0],s=t[1],u=t[2],l=0,h=[];l<c.length;l++)i=c[l],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&h.push(o[i][0]),o[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);f&&f(t);while(h.length)h.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var s=n[i];0!==o[s]&&(r=!1)}r&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={app:0},a=[];function i(e){return c.p+"js/"+({about:"about"}[e]||e)+"."+{about:"5a64205c"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=r);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,c.nc&&s.setAttribute("nonce",c.nc),s.src=i(e);var u=new Error;a=function(t){s.onerror=s.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",u.name="ChunkLoadError",u.type=r,u.request=a,n[1](u)}o[e]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/decide-wheel/",c.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var f=u;a.push([1,"chunk-vendors"]),n()})({0:function(e,t){},1:function(e,t,n){e.exports=n("56d7")},10:function(e,t){},11:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function o(e,t){var n=Object(r["y"])("router-view");return Object(r["q"])(),Object(r["e"])(n)}n("5cb8");const a={};a.render=o;var i=a,c=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02"));function s(e,t,n,o,a,i){var c=Object(r["y"])("HelloWorld");return Object(r["q"])(),Object(r["e"])(c,{msg:"Welcome to Your Vue.js App"})}n("9911"),n("b0c0"),n("99af");var u=n("e55c"),l=n.n(u),f=Object(r["G"])("data-v-7de2524d");Object(r["t"])("data-v-7de2524d");var h=Object(r["h"])("label",{for:"time"},"Время прокрутки в секундах: ",-1),d=Object(r["g"])(),m=Object(r["h"])("h2",null,"Ну вот ты и попался пидорок.",-1),b=Object(r["g"])(" Победила эта хуета: "),p={key:1,class:"main-content"},O=Object(r["h"])("div",{class:"triangle"},null,-1),v={id:"circleView"},j={class:"chart-text"},w={key:2};Object(r["r"])();var g=f((function(e,t,n,o,a,i){var c=Object(r["y"])("modal");return Object(r["q"])(),Object(r["e"])(r["a"],null,[Object(r["h"])("p",null,[Object(r["h"])("button",{class:"valera-button",onClick:t[1]||(t[1]=function(){return i.decideWinner&&i.decideWinner.apply(i,arguments)})},"Poehali, nahui!")]),Object(r["h"])("p",null,[h,d,Object(r["F"])(Object(r["h"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.animationDuration=e}),type:"number"},null,512),[[r["C"],a.animationDuration]])]),a.showModal?(Object(r["q"])(),Object(r["e"])(c,{key:0,onClose:t[5]||(t[5]=function(e){return a.showModal=!1})},{header:f((function(){return[m]})),body:f((function(){return[b,Object(r["h"])("a",{href:a.winner.link},Object(r["A"])(a.winner.name),9,["href"])]})),footer:f((function(){return[Object(r["h"])("button",{class:"valera-button",onClick:t[3]||(t[3]=function(e){return i.makeDecision("d")})},"Ебать, ну поехали..."),Object(r["h"])("button",{class:"valera-button valera-button--whack",onClick:t[4]||(t[4]=function(e){return i.makeDecision("p")})},"Skippppppppp")]})),_:1})):Object(r["f"])("",!0),a.items.length?(Object(r["q"])(),Object(r["e"])("div",p,[O,(Object(r["q"])(),Object(r["e"])("svg",{ref:"chart",class:"donut",width:a.width,height:"100%",viewBox:i.viewBox},[Object(r["h"])("circle",{class:"donut-hole",cx:i.centerOfTheViewBox,cy:i.centerOfTheViewBox,r:i.radius,fill:"transparent"},null,8,["cx","cy","r"]),(Object(r["q"])(!0),Object(r["e"])(r["a"],null,Object(r["w"])(a.items,(function(e,t){return Object(r["q"])(),Object(r["e"])("circle",{key:t,cx:i.centerOfTheViewBox,cy:i.centerOfTheViewBox,r:i.radius,fill:"transparent",title:e.name,ref:"items".concat(t),"stroke-width":i.radius,"stroke-dasharray":"0 100","stroke-dashoffset":"25"},null,8,["cx","cy","r","title","stroke-width"])})),128)),(Object(r["q"])(!0),Object(r["e"])(r["a"],null,Object(r["w"])(a.items,(function(e,t){return Object(r["q"])(),Object(r["e"])("g",{key:t,style:"transform: rotate(".concat(e.angle,"deg) translateX(").concat(i.radius/1.5,"px); text-align: left")},[Object(r["h"])("text",{x:i.centerOfTheViewBox,y:i.centerOfTheViewBox,"font-family":"sans-serif","font-size":"1px",fill:"white","text-anchor":"left","alignment-baseline":"middle"},Object(r["A"])(i.truncateString(e.name,20)),9,["x","y"])],4)})),128)),Object(r["h"])("defs",null,[Object(r["h"])("clipPath",v,[Object(r["h"])("circle",{cx:i.centerOfTheViewBox,cy:i.centerOfTheViewBox-4,r:i.radius/2},null,8,["cx","cy","r"])])]),Object(r["h"])("g",j,[Object(r["h"])("image",{x:i.centerOfTheViewBox-a.diameter/8,y:i.centerOfTheViewBox-a.diameter/8-5,class:"lerich",href:l.a,alt:"Lerich",width:a.diameter/4,height:a.diameter/4,"clip-path":"url(#circleView)"},null,8,["x","y","width","height"])])],8,["width","viewBox"]))])):(Object(r["q"])(),Object(r["e"])("div",w," Грузится блядь, падажжи"))],64)})),y=n("2909"),x=n("3835"),k=n("1da1"),D=(n("d81d"),n("4fad"),n("4de4"),n("fb6a"),n("96cf"),n("22b5")),C=n("d340");function P(e,t,n){var r;this.source=e,this.volume=t,this.loop=n,this.son=r,this.finish=!1,this.stop=function(){document.body.removeChild(this.son)},this.start=function(){if(this.finish)return!1;this.son=document.createElement("embed"),this.son.setAttribute("src",this.source),this.son.setAttribute("hidden","true"),this.son.setAttribute("volume",this.volume),this.son.setAttribute("autostart","true"),this.son.setAttribute("loop",this.loop),document.body.appendChild(this.son)},this.remove=function(){document.body.removeChild(this.son),this.finish=!0},this.init=function(e,t){this.finish=!1,this.volume=e,this.loop=t}}function T(e,t){return e.length<=t?e:e.slice(0,t)+"..."}var R={class:"modal-mask"},A={class:"modal-wrapper"},B={class:"modal-container"},M={class:"modal-header"},F=Object(r["g"])(" default header "),S={class:"modal-body"},V=Object(r["g"])(" default body "),_={class:"modal-footer"},q=Object(r["g"])(" default footer ");function W(e,t,n,o,a,i){return Object(r["q"])(),Object(r["e"])(r["b"],{name:"modal"},{default:Object(r["E"])((function(){return[Object(r["h"])("div",R,[Object(r["h"])("div",A,[Object(r["h"])("div",B,[Object(r["h"])("div",M,[Object(r["x"])(e.$slots,"header",{},(function(){return[F]}))]),Object(r["h"])("div",S,[Object(r["x"])(e.$slots,"body",{},(function(){return[V]}))]),Object(r["h"])("div",_,[Object(r["x"])(e.$slots,"footer",{},(function(){return[q,Object(r["h"])("button",{class:"modal-default-button",onClick:t[1]||(t[1]=function(t){return e.$emit("close")})}," OK ")]}))])])])])]})),_:3})}var E={name:"Modal"};n("8175");E.render=W;var I=E,L="AIzaSyCb4nu3aSI5SJ9LH44OBX-D11V93O_uSsc",$={name:"HelloWorld",components:{Modal:I},props:{msg:String},data:function(){return{showModal:!1,animationDuration:142,winner:null,value:0,diameter:100,offset:25,width:600,animationSpeed:"0.5s",itemsForDecision:[],itemsForPunishment:[],items:[]}},mounted:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchExcelData();case 2:n=function e(t){requestAnimationFrame(e),D["a"].update(t)},requestAnimationFrame(n);case 4:case"end":return t.stop()}}),t)})))()},computed:{viewBox:function(){return"-".concat(this.diameter/4," -").concat(this.diameter/4," ").concat(this.diameter/2," ").concat(this.diameter/2)},radius:function(){return"".concat(this.diameter/Math.PI/2)},centerOfTheViewBox:function(){return 0},itemsWithPercentage:function(){var e=this.items.reduce((function(e,t){var n=t.value;return e+=parseFloat(n),e}),0);return Object.entries(this.items).map((function(t){var n=Object(x["a"])(t,2),r=(n[0],n[1]);return r.percent=parseFloat(r.value)/e*100,r}))}},methods:{makeDecision:function(e){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.calculate(e);case 2:t.showModal=!1;case 3:case"end":return n.stop()}}),n)})))()},truncateString:T,getRandomInt:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},fetchExcelData:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new C["GoogleSpreadsheet"]("1WQUE6MLI4dFV_9DLop63OovmLIWGGEN7-18uO1JoWpk"),n.useApiKey(L),t.next=4,n.loadInfo();case 4:return t.next=6,e.fetchDecisionData(n);case 6:return t.next=8,e.fetchPunishmentData(n);case 8:return e.items=e.itemsForDecision,t.next=11,e.$nextTick((function(){e.calculate()}));case 11:case"end":return t.stop()}}),t)})))()},fetchDecisionData:function(e){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.sheetsByIndex[0],n.next=3,r.getRows();case 3:o=n.sent,t.itemsForDecision=o.filter((function(e){var t=e._rawData;return!!t[0]&&"FALSE"===t[4]&&"TRUE"===t[3]&&"TRUE"===t[2]})).map((function(e){return{name:e._rawData[0],link:e._rawData[1],value:10}}));case 5:case"end":return n.stop()}}),n)})))()},fetchPunishmentData:function(e){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.sheetsByIndex[2],n.next=3,r.getRows();case 3:o=n.sent,t.itemsForPunishment=o.map((function(e){return{name:e._rawData[0],value:10}}));case 5:case"end":return n.stop()}}),n)})))()},getRandomColor:function(){for(var e="0123456789ABCDEF",t="#",n=0;n<6;n++)t+=e[Math.floor(16*Math.random())];return t},getCorners:function(e){var t=e.leftCorner/100*360,n=e.rightCorner/100*360;return[t,n]},calculate:function(e){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function n(){var r,o,a,i,c,s,u,l,f,h,d,m;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return"p"===e?t.items=t.itemsForPunishment:"d"===e&&(t.items=t.itemsForDecision),t.$refs.chart.style.transform="rotate(0deg)",r=t.animationSpeed,o=t.offset,n.next=5,t.$nextTick();case 5:for(a in t.itemsWithPercentage)i=t.items[a],c=i.percent,s=t.$refs["items".concat(a)],s.style.transition="stroke-dasharray ".concat(r," ease-in-out, stroke-dashoffset ").concat(r," ease-in-out"),s.style.strokeDasharray=c+" "+(100-c),s.setAttribute("stroke",t.getRandomColor()),"0"===a?s.style.strokeDashoffset=o:(u=t.itemsWithPercentage.slice(0,a).reduce((function(e,t){return e+=t.percent,e}),0),l=100-u+o,s.style.strokeDashoffset=l),i.leftCorner=parseFloat(s.style.strokeDashoffset)-25,i.rightCorner=parseFloat(i.leftCorner)+i.percent,f=t.getCorners(i),h=Object(x["a"])(f,2),d=h[0],m=h[1],i.angle=(m-d)/2+d-90;case 6:case"end":return n.stop()}}),n)})))()},decideWinner:function(){var e=this,t=this.getRandomInt(0,this.itemsWithPercentage.length-1),n=this.itemsWithPercentage[t];this.winner=n;var r=this.$refs.chart,o={value:0},a=360*this.animationDuration-this.getRandomInt.apply(this,Object(y["a"])(this.getCorners(n))),i=new P("/ZAKAT.mp3",40,!1),c=new P("/abchihba.mp3",100,!1);new D["a"].Tween(o).to({value:a},parseFloat(1e3*this.animationDuration)).easing(D["a"].Easing.Cubic.Out).onStart((function(){i.start()})).onUpdate((function(){var e=o.value;r.style.transform="rotate(".concat(e,"deg)")})).start().onComplete((function(){i.stop(),c.start(),setTimeout((function(){e.showModal=!0}),500)}))}}};n("80f5");$.render=g,$.__scopeId="data-v-7de2524d";var H=$,U={name:"Home",components:{HelloWorld:H}};U.render=s;var G=U,J=[{path:"/",name:"Home",component:G},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],K=Object(c["a"])({history:Object(c["b"])("/decide-wheel/"),routes:J}),z=K,X=n("5502"),N=Object(X["a"])({state:{},mutations:{},actions:{},modules:{}});Object(r["d"])(i).use(N).use(z).mount("#app")},"5cb8":function(e,t,n){"use strict";n("fbf0")},6:function(e,t){},7:function(e,t){},8:function(e,t){},"80f5":function(e,t,n){"use strict";n("f4bc")},8175:function(e,t,n){"use strict";n("f34b")},9:function(e,t){},e55c:function(e,t,n){e.exports=n.p+"img/Lerich.be3e4fa7.jpg"},f34b:function(e,t,n){},f4bc:function(e,t,n){},fbf0:function(e,t,n){}});
//# sourceMappingURL=app.1d237981.js.map